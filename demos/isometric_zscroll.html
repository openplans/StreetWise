<html>
  <head>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>

    <style>
      body {
        background-color: SkyBlue;
        margin: 0px;
        padding: 0px;
      }

      #isometric-scene {
        position: relative;
        width: 100%;
        height: 36000px;
        overflow: hidden;
      }
      #isometric-scene > div {
        position: fixed;
        width: 640px;
        height: 640px;
        border: 1px solid black;
        background: url("test_bg.png");
      }
    </style>
  </head>

  <html>

    <div id="isometric-scene">
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
    </div>

    <script>
      $(document).ready(function() {
        var $layers = $('#isometric-scene > div');

        /**
         * Set the position (and visibility) of the layer.
         *
         * s - The scroll offset of the window
         * x - starting x
         * y - starting y
         * z - time at which x,y will actually be there on the screen for realz
         * angle - the direction that $el is moving
         * $el - jQuery object of the element we're positioning
         */
        function setLayerPosition(s, x, y, z, angle, $el) {
          var yRate = 1
            , xRate = yRate * Math.tan(angle * Math.PI / 180)

            , xt = x + z*xRate - (xRate/yRate)*s
            , yt = y + z*yRate - s;

          $el.css({
            position: 'fixed',
            left: xt+'px',
            top:  yt+'px'
          });
        }

        // Init the background images
        $.each($layers, function(i, el) {
          var $el = $(el);
          setLayerPosition(0, 0, 0, ($el.height()*i), 45, $el);
        });

        var $window = $(window);
        // Adjust the position on scroll
        $(window).scroll(function() {
          var s = $window.scrollTop();
          console.log(s);
          $.each($layers, function(i, el) {
            var $el = $(el);
            setLayerPosition(s, 0, 0, ($el.height()*i), 45, $el);
          });
        });
      });
    </script>

  </html>
</html>
